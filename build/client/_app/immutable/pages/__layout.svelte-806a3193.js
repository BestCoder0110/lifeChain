import{F as we,S as pe,i as _e,s as de,l as p,a as E,G,r as N,m as _,n as v,h as i,c as k,H as K,u as q,I as $e,p as s,J as $,b as S,K as n,E as X,L as ce,M as me,N as Ee,O as ke,w as ue,x as fe,y as he,P as Le,Q as Ae,R as ye,f as U,t as W,B as ve,o as Ie}from"../chunks/index-5b9f5232.js";import{M as Me,c as je}from"../chunks/Modals-4904eec8.js";import{s as ge,l as Be}from"../chunks/auth-63ff4a40.js";import"../chunks/index-d30e7481.js";import"../chunks/singletons-eca981c1.js";import"../chunks/index-74255380.js";const He=()=>{const r=we("__svelte__");return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:r.navigating.subscribe}},session:r.session,updated:r.updated}},Se={subscribe(r){return He().page.subscribe(r)}},Ce="/_app/immutable/assets/svelte-logo-87df40b8.svg";function De(r){let e,t,o;return{c(){e=p("li"),t=p("a"),o=N("Login"),this.h()},l(l){e=_(l,"LI",{class:!0});var c=v(e);t=_(c,"A",{href:!0,class:!0});var h=v(t);o=q(h,"Login"),h.forEach(i),c.forEach(i),this.h()},h(){s(t,"href","/auth"),s(t,"class","svelte-1w3a7se"),s(e,"class","svelte-1w3a7se"),$(e,"active",r[1].url.pathname==="/auth")},m(l,c){S(l,e,c),n(e,t),n(t,o)},p(l,c){c&2&&$(e,"active",l[1].url.pathname==="/auth")},d(l){l&&i(e)}}}function Ve(r){let e,t,o,l,c;return{c(){e=p("li"),t=p("a"),o=N("Logout"),this.h()},l(h){e=_(h,"LI",{class:!0});var u=v(e);t=_(u,"A",{href:!0,class:!0});var f=v(t);o=q(f,"Logout"),f.forEach(i),u.forEach(i),this.h()},h(){s(t,"href","javascript:void(0)"),s(t,"class","svelte-1w3a7se"),s(e,"class","svelte-1w3a7se"),$(e,"active",r[1].url.pathname==="/auth")},m(h,u){S(h,e,u),n(e,t),n(t,o),l||(c=me(t,"click",Ee(r[2])),l=!0)},p(h,u){u&2&&$(e,"active",h[1].url.pathname==="/auth")},d(h){h&&i(e),l=!1,c()}}}function Ne(r){let e,t,o,l,c,h,u,f,a,d,m,L,A,R,T,y,I,Z,F,M,j,J,O,P,B,C,Q,V;function Y(g,b){return g[0]&&g[0].user?Ve:De}let z=Y(r),w=z(r);return{c(){e=p("header"),t=p("div"),o=p("a"),l=p("img"),h=E(),u=p("nav"),f=G("svg"),a=G("path"),d=E(),m=p("ul"),L=p("li"),A=p("a"),R=N("Home"),T=E(),y=p("li"),I=p("a"),Z=N("About"),F=E(),M=p("li"),j=p("a"),J=N("Todos"),O=E(),w.c(),P=E(),B=G("svg"),C=G("path"),Q=E(),V=p("div"),this.h()},l(g){e=_(g,"HEADER",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var x=v(t);o=_(x,"A",{href:!0,class:!0});var ee=v(o);l=_(ee,"IMG",{src:!0,alt:!0,class:!0}),ee.forEach(i),x.forEach(i),h=k(b),u=_(b,"NAV",{class:!0});var D=v(u);f=K(D,"svg",{viewBox:!0,"aria-hidden":!0,class:!0});var se=v(f);a=K(se,"path",{d:!0,class:!0}),v(a).forEach(i),se.forEach(i),d=k(D),m=_(D,"UL",{class:!0});var H=v(m);L=_(H,"LI",{class:!0});var te=v(L);A=_(te,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var ae=v(A);R=q(ae,"Home"),ae.forEach(i),te.forEach(i),T=k(H),y=_(H,"LI",{class:!0});var le=v(y);I=_(le,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var re=v(I);Z=q(re,"About"),re.forEach(i),le.forEach(i),F=k(H),M=_(H,"LI",{class:!0});var oe=v(M);j=_(oe,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var ne=v(j);J=q(ne,"Todos"),ne.forEach(i),oe.forEach(i),O=k(H),w.l(H),H.forEach(i),P=k(D),B=K(D,"svg",{viewBox:!0,"aria-hidden":!0,class:!0});var ie=v(B);C=K(ie,"path",{d:!0,class:!0}),v(C).forEach(i),ie.forEach(i),D.forEach(i),Q=k(b),V=_(b,"DIV",{class:!0});var be=v(V);be.forEach(i),b.forEach(i),this.h()},h(){$e(l.src,c=Ce)||s(l,"src",c),s(l,"alt","SvelteKit"),s(l,"class","svelte-1w3a7se"),s(o,"href","https://kit.svelte.dev"),s(o,"class","svelte-1w3a7se"),s(t,"class","corner svelte-1w3a7se"),s(a,"d","M0,0 L1,2 C1.5,3 1.5,3 2,3 L2,0 Z"),s(a,"class","svelte-1w3a7se"),s(f,"viewBox","0 0 2 3"),s(f,"aria-hidden","true"),s(f,"class","svelte-1w3a7se"),s(A,"sveltekit:prefetch",""),s(A,"href","/"),s(A,"class","svelte-1w3a7se"),s(L,"class","svelte-1w3a7se"),$(L,"active",r[1].url.pathname==="/"),s(I,"sveltekit:prefetch",""),s(I,"href","/about"),s(I,"class","svelte-1w3a7se"),s(y,"class","svelte-1w3a7se"),$(y,"active",r[1].url.pathname==="/about"),s(j,"sveltekit:prefetch",""),s(j,"href","/todos"),s(j,"class","svelte-1w3a7se"),s(M,"class","svelte-1w3a7se"),$(M,"active",r[1].url.pathname==="/todos"),s(m,"class","svelte-1w3a7se"),s(C,"d","M0,0 L0,3 C0.5,3 0.5,3 1,2 L2,0 Z"),s(C,"class","svelte-1w3a7se"),s(B,"viewBox","0 0 2 3"),s(B,"aria-hidden","true"),s(B,"class","svelte-1w3a7se"),s(u,"class","svelte-1w3a7se"),s(V,"class","corner svelte-1w3a7se"),s(e,"class","svelte-1w3a7se")},m(g,b){S(g,e,b),n(e,t),n(t,o),n(o,l),n(e,h),n(e,u),n(u,f),n(f,a),n(u,d),n(u,m),n(m,L),n(L,A),n(A,R),n(m,T),n(m,y),n(y,I),n(I,Z),n(m,F),n(m,M),n(M,j),n(j,J),n(m,O),w.m(m,null),n(u,P),n(u,B),n(B,C),n(e,Q),n(e,V)},p(g,[b]){b&2&&$(L,"active",g[1].url.pathname==="/"),b&2&&$(y,"active",g[1].url.pathname==="/about"),b&2&&$(M,"active",g[1].url.pathname==="/todos"),z===(z=Y(g))&&w?w.p(g,b):(w.d(1),w=z(g),w&&(w.c(),w.m(m,null)))},i:X,o:X,d(g){g&&i(e),w.d()}}}function qe(r,e,t){let o,l,c;ce(r,ge,u=>t(3,l=u)),ce(r,Se,u=>t(1,c=u));function h(){Be()}return r.$$.update=()=>{r.$$.dirty&8&&t(0,o=l)},[o,c,h,l]}class ze extends pe{constructor(e){super(),_e(this,e,qe,Ne,de,{})}}function Ge(r){let e,t,o;return{c(){e=p("div"),this.h()},l(l){e=_(l,"DIV",{slot:!0,class:!0}),v(e).forEach(i),this.h()},h(){s(e,"slot","backdrop"),s(e,"class","backdrop svelte-jag9pz")},m(l,c){S(l,e,c),t||(o=me(e,"click",je),t=!0)},p:X,d(l){l&&i(e),t=!1,o()}}}function Ke(r){let e,t,o,l,c,h;e=new Me({props:{$$slots:{backdrop:[Ge]},$$scope:{ctx:r}}}),o=new ze({});const u=r[0].default,f=ke(u,r,r[1],null);return{c(){ue(e.$$.fragment),t=E(),ue(o.$$.fragment),l=E(),c=p("main"),f&&f.c(),this.h()},l(a){fe(e.$$.fragment,a),t=k(a),fe(o.$$.fragment,a),l=k(a),c=_(a,"MAIN",{class:!0});var d=v(c);f&&f.l(d),d.forEach(i),this.h()},h(){s(c,"class","svelte-jag9pz")},m(a,d){he(e,a,d),S(a,t,d),he(o,a,d),S(a,l,d),S(a,c,d),f&&f.m(c,null),h=!0},p(a,[d]){const m={};d&2&&(m.$$scope={dirty:d,ctx:a}),e.$set(m),f&&f.p&&(!h||d&2)&&Le(f,u,a,a[1],h?ye(u,a[1],d,null):Ae(a[1]),null)},i(a){h||(U(e.$$.fragment,a),U(o.$$.fragment,a),U(f,a),h=!0)},o(a){W(e.$$.fragment,a),W(o.$$.fragment,a),W(f,a),h=!1},d(a){ve(e,a),a&&i(t),ve(o,a),a&&i(l),a&&i(c),f&&f.d(a)}}}const Qe=async({fetch:r})=>{const t=await(await r("/api/auth/user")).json(),{user:o}=t;return ge.set({loading:!1,user:o}),{status:200}};function Re(r,e,t){let{$$slots:o={},$$scope:l}=e;return Ie(async()=>{await fetch("/api/auth/user")}),r.$$set=c=>{"$$scope"in c&&t(1,l=c.$$scope)},[o,l]}class Ue extends pe{constructor(e){super(),_e(this,e,Re,Ke,de,{})}}export{Ue as default,Qe as load};
